# A web metric which uses google.com as a metric provider
# The conditions are designed to always be inconclusive (neither success nor failure)
# Google returns HTML, which won't match either string condition
apiVersion: argoproj.io/v1alpha1
kind: AnalysisTemplate
metadata:
  name: web-background-inconclusive
spec:
  args:
    - name: url-val
      value: "https://www.google.com"
  metrics:
    - name: web
      interval: 5s
      inconclusiveLimit: 3
      successCondition: result == "success"
      failureCondition: result == "failure"
      provider:
        web:
          url: "{{args.url-val}}"
