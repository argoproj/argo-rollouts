syntax = "proto2";
option go_package = "github.com/argoproj/argo-rollouts/pkg/apiclient/rollout";

import "google/api/annotations.proto";
import "github.com/argoproj/argo-rollouts/pkg/apis/rollouts/v1alpha1/generated.proto";

package rollout;

message RolloutQuery {
    optional string name = 1;
}

service RolloutService {
    // Get returns a rollout
    rpc Get(RolloutQuery) returns (github.com.argoproj.argo_rollouts.pkg.apis.rollouts.v1alpha1.RolloutInfo) {
        option (google.api.http).get = "/api/v1/rollout/{name}";
    }

    rpc Watch(RolloutQuery) returns (stream github.com.argoproj.argo_rollouts.pkg.apis.rollouts.v1alpha1.RolloutInfo) {
        option (google.api.http).get = "/api/v1/rollout/watch/{name}";
    }
}